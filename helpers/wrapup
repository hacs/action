#!/bin/bash

echo -e "\nğŸ‰ HACS repository validator action summary ğŸ‰\n"

grep -v '^ *#' < "$1/result" | while IFS= read -r line
do
  echo "$line"
done

if [ -f "$1/error" ]; then
  echo "::error::One or more checks failed!"
  exit 1
else
  printf "âœ… All checks completed ğŸ‰\n"
fi